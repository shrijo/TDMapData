<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Synchronized Satellite & DEM Viewer</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        overflow: hidden;
        background: #1a1a1a;
    }
    
    .container {
        display: flex;
        height: 100vh;
        position: relative;
    }
    
    .map-container {
        flex: 1;
        position: relative;
        border: 2px solid #333;
    }
    
    .map {
        width: 100%;
        height: 100%;
    }
    
    .divider {
        width: 4px;
        background: linear-gradient(180deg, #4a90e2, #357abd);
        cursor: col-resize;
        position: relative;
        transition: background 0.3s ease;
    }
    
    .divider:hover {
        background: linear-gradient(180deg, #5ba0f2, #4587cd);
        box-shadow: 0 0 10px rgba(74, 144, 226, 0.5);
    }
    
    .divider::after {
        content: '‚ãÆ';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-size: 20px;
        text-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    
    .map-label {
        position: absolute;
        top: 10px;
        left: 10px;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 8px 16px;
        border-radius: 6px;
        font-size: 14px;
        font-weight: 600;
        z-index: 1000;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }
    
    .controls {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(0, 0, 0, 0.85);
        padding: 12px 20px;
        border-radius: 8px;
        z-index: 1000;
        display: flex;
        gap: 15px;
        align-items: center;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
    }
    
    .controls button {
        background: linear-gradient(135deg, #4a90e2, #357abd);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 13px;
        font-weight: 500;
        transition: all 0.3s ease;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
    
    .controls button:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        background: linear-gradient(135deg, #5ba0f2, #4587cd);
    }
    
    .controls button:active {
        transform: translateY(0);
    }
    
    .controls select {
        background: rgba(255, 255, 255, 0.1);
        color: white;
        border: 1px solid rgba(255, 255, 255, 0.2);
        padding: 8px 12px;
        border-radius: 6px;
        font-size: 13px;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .controls select:hover {
        background: rgba(255, 255, 255, 0.15);
        border-color: rgba(255, 255, 255, 0.3);
    }
    
    .controls label {
        color: #aaa;
        font-size: 12px;
        font-weight: 500;
    }
    
    .info-panel {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 10px 15px;
        border-radius: 6px;
        font-size: 12px;
        z-index: 1000;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        max-width: 200px;
    }
    
    .info-panel div {
        margin: 4px 0;
    }
    
    .loading {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-size: 14px;
        z-index: 999;
    }
    
    @media (max-width: 768px) {
        .container {
            flex-direction: column;
        }
        
        .divider {
            width: 100%;
            height: 4px;
            cursor: row-resize;
        }
        
        .divider::after {
            content: '‚ãØ';
        }
    }
</style>
```

</head>
<body>
    <div class="container">
        <div class="map-container">
            <div class="map-label">üõ∞Ô∏è Satellite Imagery</div>
            <div id="satelliteMap" class="map"></div>
        </div>

```
    <div class="divider"></div>
    
    <div class="map-container">
        <div class="map-label">üìä Elevation (DEM)</div>
        <div id="demMap" class="map"></div>
    </div>
</div>

<div class="controls">
    <label>Location:</label>
    <select id="locationSelect">
        <option value="46.5197,-80.9531,8">Mount Everest</option>
        <option value="36.0884,-112.0985,11">Grand Canyon</option>
        <option value="46.8523,8.5435,10">Swiss Alps</option>
        <option value="37.7156,-119.6770,11">Yosemite Valley</option>
        <option value="-13.1631,-72.5450,11">Machu Picchu</option>
        <option value="35.3606,138.7274,12">Mount Fuji</option>
        <option value="27.1751,78.0421,15">Taj Mahal</option>
        <option value="48.8584,2.2945,12">Paris</option>
    </select>
    <button id="resetView">Reset View</button>
    <button id="toggleSync">Sync: ON</button>
</div>

<div class="info-panel">
    <div id="zoomLevel">Zoom: 10</div>
    <div id="centerCoords">Center: Loading...</div>
</div>

<script>
    // Initialize both maps
    const satelliteMap = L.map('satelliteMap', {
        center: [46.8523, 8.5435],
        zoom: 10,
        zoomControl: true
    });

    const demMap = L.map('demMap', {
        center: [46.8523, 8.5435],
        zoom: 10,
        zoomControl: true
    });

    // Add satellite imagery layer (using Esri World Imagery)
    L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
        attribution: '&copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community',
        maxZoom: 19
    }).addTo(satelliteMap);

    // Add DEM/terrain layer with hillshade
    L.tileLayer('https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}{r}.png', {
        attribution: '&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://stamen.com/">Stamen Design</a>, &copy; <a href="https://openstreetmap.org">OpenStreetMap</a>',
        maxZoom: 18
    }).addTo(demMap);

    // Alternative: OpenTopoMap for better elevation visualization
    L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
        attribution: 'Map data: &copy; OpenStreetMap contributors, SRTM | Map style: &copy; OpenTopoMap',
        maxZoom: 17,
        opacity: 0.7
    }).addTo(demMap);

    // Sync state
    let syncEnabled = true;
    let programmaticMove = false;

    // Sync function
    function syncMaps(sourceMap, targetMap) {
        if (!syncEnabled || programmaticMove) return;
        
        programmaticMove = true;
        targetMap.setView(sourceMap.getCenter(), sourceMap.getZoom(), {
            animate: false
        });
        programmaticMove = false;
        
        updateInfo();
    }

    // Add event listeners for synchronization
    satelliteMap.on('move', () => syncMaps(satelliteMap, demMap));
    satelliteMap.on('zoom', () => syncMaps(satelliteMap, demMap));
    demMap.on('move', () => syncMaps(demMap, satelliteMap));
    demMap.on('zoom', () => syncMaps(demMap, satelliteMap));

    // Update info panel
    function updateInfo() {
        const center = satelliteMap.getCenter();
        const zoom = satelliteMap.getZoom();
        document.getElementById('zoomLevel').textContent = `Zoom: ${zoom}`;
        document.getElementById('centerCoords').textContent = `Center: ${center.lat.toFixed(4)}, ${center.lng.toFixed(4)}`;
    }

    // Initial info update
    updateInfo();

    // Location selector
    document.getElementById('locationSelect').addEventListener('change', (e) => {
        const [lat, lng, zoom] = e.target.value.split(',').map(Number);
        satelliteMap.setView([lat, lng], zoom);
        if (syncEnabled) {
            demMap.setView([lat, lng], zoom);
        }
    });

    // Reset view button
    document.getElementById('resetView').addEventListener('click', () => {
        const initialView = [46.8523, 8.5435];
        const initialZoom = 10;
        satelliteMap.setView(initialView, initialZoom);
        if (syncEnabled) {
            demMap.setView(initialView, initialZoom);
        }
    });

    // Toggle sync button
    document.getElementById('toggleSync').addEventListener('click', (e) => {
        syncEnabled = !syncEnabled;
        e.target.textContent = `Sync: ${syncEnabled ? 'ON' : 'OFF'}`;
        e.target.style.background = syncEnabled ? 
            'linear-gradient(135deg, #4a90e2, #357abd)' : 
            'linear-gradient(135deg, #e24a4a, #bd3535)';
        
        // If re-enabling sync, align the maps
        if (syncEnabled) {
            syncMaps(satelliteMap, demMap);
        }
    });

    // Make divider draggable for resizing
    const divider = document.querySelector('.divider');
    const container = document.querySelector('.container');
    const leftPanel = container.children[0];
    const rightPanel = container.children[2];
    
    let isResizing = false;
    
    divider.addEventListener('mousedown', (e) => {
        isResizing = true;
        document.body.style.cursor = 'col-resize';
        e.preventDefault();
    });
    
    document.addEventListener('mousemove', (e) => {
        if (!isResizing) return;
        
        const containerRect = container.getBoundingClientRect();
        const percentage = ((e.clientX - containerRect.left) / containerRect.width) * 100;
        
        if (percentage > 20 && percentage < 80) {
            leftPanel.style.flex = `0 0 ${percentage}%`;
            rightPanel.style.flex = `0 0 ${100 - percentage}%`;
            
            // Invalidate map sizes after resize
            setTimeout(() => {
                satelliteMap.invalidateSize();
                demMap.invalidateSize();
            }, 100);
        }
    });
    
    document.addEventListener('mouseup', () => {
        isResizing = false;
        document.body.style.cursor = 'default';
    });

    // Add markers for interesting features (optional)
    const addFeatureMarker = (lat, lng, title) => {
        L.marker([lat, lng]).addTo(satelliteMap).bindPopup(title);
        L.marker([lat, lng]).addTo(demMap).bindPopup(title);
    };

    // Handle window resize
    window.addEventListener('resize', () => {
        satelliteMap.invalidateSize();
        demMap.invalidateSize();
    });
</script>
```

</body>
</html>